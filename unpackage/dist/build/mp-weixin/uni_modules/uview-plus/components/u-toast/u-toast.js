"use strict";const t=require("../../libs/mixin/mpMixin.js"),i=require("../../libs/mixin/mixin.js"),o=require("../../libs/function/index.js"),e=require("../../libs/config/color.js"),n=require("../../libs/function/colorGradient.js"),r=require("../../../../common/vendor.js"),s={name:"u-toast",mixins:[t.mpMixin,i.mixin],data:()=>({isShow:!1,timer:null,config:{message:"",type:"",duration:2e3,icon:!0,position:"center",complete:null,overlay:!0,loading:!1},tmpConfig:{}}),computed:{iconName(){return this.tmpConfig.icon&&"none"!=this.tmpConfig.icon?!0===this.tmpConfig.icon?["error","warning","success","primary"].includes(this.tmpConfig.type)?o.type2icon(this.tmpConfig.type):"":this.tmpConfig.icon:""},overlayStyle(){const t={justifyContent:"center",alignItems:"center",display:"flex",backgroundColor:"rgba(0, 0, 0, 0)"};return t},iconStyle(){const t={marginRight:"4px"};return t},loadingIconColor(){let t="rgb(255, 255, 255)";return["error","warning","success","primary"].includes(this.tmpConfig.type)&&(t=n.hexToRgb(e.color[this.tmpConfig.type])),t},contentStyle(){const t=o.sys().windowHeight,i={};let e=0;return"top"===this.tmpConfig.position?e=.25*-t:"bottom"===this.tmpConfig.position&&(e=.25*t),i.transform=`translateY(${e}px)`,i}},created(){["primary","success","error","warning","default","loading"].map((t=>{this[t]=i=>this.show({type:t,message:i})}))},methods:{show(t){this.tmpConfig=o.deepMerge(this.config,t),this.clearTimer(),this.isShow=!0,this.timer=setTimeout((()=>{this.clearTimer(),"function"==typeof this.tmpConfig.complete&&this.tmpConfig.complete()}),this.tmpConfig.duration)},hide(){this.clearTimer()},clearTimer(){this.isShow=!1,clearTimeout(this.timer),this.timer=null}},beforeUnmount(){this.clearTimer()}};if(!Array){(r.resolveComponent("u-loading-icon")+r.resolveComponent("u-icon")+r.resolveComponent("u-gap")+r.resolveComponent("u-overlay"))()}Math||((()=>"../u-loading-icon/u-loading-icon.js")+(()=>"../u-icon/u-icon.js")+(()=>"../u-gap/u-gap.js")+(()=>"../u-overlay/u-overlay.js"))();const p=r._export_sfc(s,[["render",function(t,i,o,e,n,s){return r.e({a:"loading"===n.tmpConfig.type},"loading"===n.tmpConfig.type?{b:r.p({mode:"circle",color:"rgb(255, 255, 255)",inactiveColor:"rgb(120, 120, 120)",size:"25"})}:"defalut"!==n.tmpConfig.type&&s.iconName?{d:r.p({name:s.iconName,size:"17",color:n.tmpConfig.type,customStyle:s.iconStyle})}:{},{c:"defalut"!==n.tmpConfig.type&&s.iconName,e:"loading"===n.tmpConfig.type||n.tmpConfig.loading},"loading"===n.tmpConfig.type||n.tmpConfig.loading?{f:r.p({height:"12",bgColor:"transparent"})}:{},{g:r.t(n.tmpConfig.message),h:r.n("u-toast__content__text--"+n.tmpConfig.type),i:r.s(s.contentStyle),j:r.n("u-type-"+n.tmpConfig.type),k:r.n("loading"===n.tmpConfig.type||n.tmpConfig.loading?"u-toast__content--loading":""),l:r.p({show:n.isShow,zIndex:n.tmpConfig.overlay?10070:-1,"custom-style":s.overlayStyle})})}],["__scopeId","data-v-a16cdf41"]]);wx.createComponent(p);
